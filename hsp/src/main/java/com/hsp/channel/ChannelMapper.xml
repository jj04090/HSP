<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hsp.channel.ChannelMapper">
    <resultMap id="channelResultMap" type="com.hsp.channel.Channel">
        <result column="CHANNEL_ID" property="channel_id" />
        <result column="USER_ID" property="user_id" />
        <result column="CHANNEL_NAME" property="channel_name" />
        <result column="CATEGORY" property="category" />
        <result column="INTRODUCTION" property="introduction" />
        <result column="BUSINESS_NO" property="business_no" />
        <result column="BANK_NAME" property="bank_name" />
        <result column="ACCOUNT" property="account" />
        <result column="AUTH_CODE" property="auth_code" />
        <result column="ACCESS_TOKEN" property="access_token" />
        <result column="REFRESH_TOKEN" property="refresh_token" />
        <result column="SEQ_NO" property="seq_no" />
    </resultMap>

    <sql id="whereSql">
        <where>
            <if test="channel_id != null and channel_id != ''">
                AND CHANNEL_ID = #{channel_id}
            </if>
            <if test="user_id != null and user_id != ''">
                AND USER_ID = #{user_id}
            </if>
            <if test="channel_name != null and channel_name != ''">
                AND CHANNEL_NAME = #{channel_name}
            </if>
            <if test="category != null and category != ''">
                AND CATEGORY = #{category}
            </if>
            <if test="introduction != null and introduction != ''">
                AND INTRODUCTION = #{introduction}
            </if>
            <if test="business_no != null and business_no != ''">
                AND BUSINESS_NO = #{business_no}
            </if>
            <if test="bank_name != null and bank_name != ''">
                AND BANK_NAME = #{bank_name}
            </if>
            <if test="account != null and account != ''">
                AND ACCOUNT = #{account}
            </if>
            <if test="auth_code != null and auth_code != ''">
                AND AUTH_CODE = #{auth_code}
            </if>
            <if test="access_token != null and access_token != ''">
                AND ACCESS_TOKEN = #{access_token}
            </if>
            <if test="refresh_token != null and refresh_token != ''">
                AND REFRESH_TOKEN = #{refresh_token}
            </if>
            <if test="seq_no != null and seq_no != ''">
                AND SEQ_NO = #{seq_no}
            </if>
        </where>
    </sql>
    
    <insert id="insert" parameterType="com.hsp.channel.Channel">
        INSERT INTO CHANNEL (
            CHANNEL_ID,
            USER_ID,
            CHANNEL_NAME,
            CATEGORY,
            INTRODUCTION,
            BUSINESS_NO,
            BANK_NAME,
            ACCOUNT,
            AUTH_CODE,
            ACCESS_TOKEN,
            REFRESH_TOKEN,
            SEQ_NO
            
        ) VALUES (
            #{channel_id},
            #{user_id},
            #{channel_name},
            #{category},
            #{introduction},
            #{business_no},
            #{bank_name},
            #{account},
            #{auth_code},
            #{access_token},
            #{refresh_token},
            #{seq_no}
        )
    </insert>

    <update id="update" parameterType="com.hsp.channel.Channel">
        UPDATE CHANNEL
        <set>
        	<if test="channel_id != null and channel_id != ''">
                CHANNEL_ID = #{channel_id},
            </if>
            <if test="user_id != null and user_id != ''">
                USER_ID = #{user_id},
            </if>
            <if test="channel_name != null and channel_name != ''">
                CHANNEL_NAME = #{channel_name},
            </if>
            <if test="category != null and category != ''">
                CATEGORY = #{category},
            </if>
            <if test="introduction != null and introduction != ''">
                INTRODUCTION = #{introduction},
            </if>
            <if test="business_no != null and business_no != ''">
                BUSINESS_NO = #{business_no},
            </if>
            <if test="bank_name != null and bank_name != ''">
                BANK_NAME = #{bank_name},
            </if>
            <if test="account != null and account != ''">
                ACCOUNT = #{account},
            </if>
            <if test="auth_code != null and auth_code != ''">
                AUTH_CODE = #{auth_code},
            </if>
            <if test="access_token != null and access_token != ''">
                ACCESS_TOKEN = #{access_token},
            </if>
            <if test="refresh_token != null and refresh_token != ''">
                REFRESH_TOKEN = #{refresh_token},
            </if>
            <if test="seq_no != null and seq_no != ''">
                SEQ_NO = #{seq_no},
            </if>
        </set>
        WHERE CHANNEL_ID = #{channel_id}
    </update>

    <delete id="delete" parameterType="com.hsp.channel.Channel">
        DELETE FROM CHANNEL
        <include refid="whereSql" />
    </delete>
    
    <select id="select" parameterType="com.hsp.channel.Channel" resultMap="channelResultMap">
        SELECT
        	CHANNEL_ID,
            USER_ID,
            CHANNEL_NAME,
            CATEGORY,
            INTRODUCTION,
            BUSINESS_NO,
            BANK_NAME,
            ACCOUNT,
            AUTH_CODE,
            ACCESS_TOKEN,
            REFRESH_TOKEN,
            SEQ_NO
        FROM CHANNEL
        <include refid="whereSql" />
    </select>

    <select id="list" resultMap="channelResultMap">
        SELECT
        	CHANNEL_ID,
            USER_ID,
            CHANNEL_NAME,
            CATEGORY,
            INTRODUCTION,
            BUSINESS_NO,
            BANK_NAME,
            ACCOUNT,
            AUTH_CODE,
            ACCESS_TOKEN,
            REFRESH_TOKEN,
            SEQ_NO
        FROM CHANNEL
    </select>
    
</mapper>